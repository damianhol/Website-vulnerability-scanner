"use strict";Object.defineProperty(exports, "__esModule", {value: true});// src/utils/sha256-node.ts
var _stream = require('stream');
var _crypto = require('crypto');
async function sha256Node(buffer) {
  const sha256Stream = _crypto.createHash.call(void 0, "sha256");
  const transform256 = (buffer instanceof Blob ? _stream.Readable.fromWeb(buffer.stream()) : _stream.Readable.from(Buffer.from(buffer))).pipe(sha256Stream).setEncoding("hex");
  return promisifyRs(transform256);
}
var promisifyRs = (rs) => {
  return new Promise((resolve, reject) => {
    let out = "";
    rs.on("data", (chunk) => {
      out += chunk;
    });
    rs.on("error", (err) => {
      reject(err);
    });
    rs.on("end", () => {
      resolve(out);
    });
  });
};


exports.sha256Node = sha256Node;
